(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){},154:function(e,t,a){e.exports=a(327)},159:function(e,t,a){},327:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),s=a(7),i=a.n(s),o=(a(159),a(25)),c=a(71),d=a(72),r=a(78),u=a(73),h=a(79),m=a(23),k=a.n(m),f=a(59),v=a(328),p=(a(111),a(33)),g=a(329),y=f.a.Option,b=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){"\u5b66\u6821"===t&&e.loadSkillData(),"\u73ed\u7ea7"===t&&e.loadClassData()},e.handleSkillChange=function(t){e.setState({skillId:t}),e.loadData(t)},e.loadData=function(t){k()({method:"get",url:"/kt-school/api/v5/schools/11/skills/".concat(t,"/assessment_rank?app_key=c196b0fe9794&limit=0")}).then(function(t){console.log(t.data);var a=t.data.data.map(function(e,t){return Object(o.a)({},e,{key:t+1})});e.setState({data:a})})},e.loadSkillData=function(){k()({method:"get",url:"/kt-school/api/v6/assessments/schools/11/skills?app_key=c196b0fe9794&limit=0"}).then(function(t){e.setState({skillId:t.data.data[0].id}),e.loadData(t.data.data[0].id);var a=t.data.data.map(function(e,t){return Object(o.a)({},e,{key:t})});e.setState({skillList:a})})},e.loadClassData=function(){k()({method:"get",url:"/kt-school/api/v5/schools/11/classrooms?app_key=c196b0fe9794&limit=0"}).then(function(t){var a=t.data.data.map(function(e,t){return Object(o.a)({},e,{key:t})});e.setState({classList:a})})},e.loadRankData=function(t){k()({method:"get",url:"/kt-school/api/v5/classrooms/".concat(t,"/skills/").concat(e.state.skillId,"/assessment_rank?app_key=c196b0fe9794&limit=0")}).then(function(t){var a=t.data.data.map(function(e,t){return Object(o.a)({},e,{key:t})});e.setState({data:a})})},e.handleClassChange=function(t){e.loadRankData(t)},e.handleOnVideoClick=function(t){e.setState({visible:!0,src:t}),console.log(t+"")},e.handleOk=function(t){console.log(t),e.setState({visible:!1})},e.handleCancel=function(t){console.log(t),e.setState({visible:!1})},e.state={data:[],skillList:[],classList:[],lessonList:[],periodList:[],skillId:"",visible:!1,src:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadSkillData()}},{key:"render",value:function(){var e=this,t=[{title:"\u5e8f\u53f7",dataIndex:"key",key:"key"},{title:"\u5934\u50cf",dataIndex:"avatar",key:"avatar",render:function(e){return l.a.createElement("img",{id:"img",src:e})}},{title:"\u59d3\u540d",dataIndex:"realname",key:"realname"},{title:"\u73ed\u7ea7",dataIndex:"grade_cn",key:"grade_cn",render:function(e,t){return l.a.createElement("span",null,"".concat(e).concat(t.cls_cn))}},{title:"\u5b8c\u6210\u6570\u91cf",dataIndex:"count",key:"count"},{title:"\u8bc4\u7ea7",dataIndex:"rank",key:"rank"},{title:"\u8bc4\u7ea7\u89c6\u9891",dataIndex:"video",key:"video",render:function(t,a){return l.a.createElement("span",null,l.a.createElement(p.a,{onClick:e.handleOnVideoClick.bind(e,t)},a.created_at))}}];return l.a.createElement("div",null,l.a.createElement(f.a,{defaultValue:"\u5b66\u6821",onChange:this.handleChange},l.a.createElement(y,{value:"\u5b66\u6821"},"\u5b66\u6821"),l.a.createElement(y,{value:"\u73ed\u7ea7"},"\u73ed\u7ea7")),this.state.classList.length>0?l.a.createElement(f.a,{defaultValue:"".concat(this.state.classList[0].grade_cn," ").concat(this.state.classList[0].cls_cn),onChange:this.handleClassChange},this.state.classList.map(function(e,t){return l.a.createElement(y,{value:e.id,key:e.id},"".concat(e.grade_cn," ").concat(e.cls_cn))})):l.a.createElement("div",null),this.state.skillList.length>0?l.a.createElement(f.a,{defaultValue:this.state.skillList[0].name,onChange:this.handleSkillChange},this.state.skillList.map(function(e,t){return l.a.createElement(y,{value:e.id,key:e.id},e.name)})):l.a.createElement("div",null),l.a.createElement(v.a,{className:"table",columns:t,dataSource:this.state.data}),l.a.createElement(g.a,{visible:this.state.visible,closable:!1,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0},l.a.createElement("video",{width:"100%",height:"100%",controls:!0},l.a.createElement("source",{src:this.state.src,type:"video/mp4"}))))}}]),t}(n.Component),_=[{title:"\u5e8f\u53f7",dataIndex:"key",key:"key"},{title:"\u5934\u50cf",dataIndex:"avatar",key:"avatar",render:function(e){return l.a.createElement("img",{id:"img",src:e})}},{title:"\u59d3\u540d",dataIndex:"realname",key:"realname"},{title:"\u73ed\u7ea7",dataIndex:"grade_cn",key:"grade_cn",render:function(e,t){return l.a.createElement("span",null,"".concat(e).concat(t.cls_cn))}},{title:"\u9ec4(\u6001\u5ea6)",dataIndex:"attitude_level",key:"attitude_level"},{title:"\u9ed1(\u6280\u672f)",dataIndex:"technology_level",key:"technology_level"},{title:"\u7ea2(\u8eab\u4f53)",dataIndex:"body_level",key:"body_level"},{title:"\u84dd(\u610f\u8bc6)",dataIndex:"mentality_level",key:"mentality_level"},{title:"\u603b",dataIndex:"total_level",key:"total_level"}],C=f.a.Option,E=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).loadData=function(){k()({method:"get",url:"/kt-school/api/v5/schools/181/performance_rank?app_key=c196b0fe9794&limit=0"}).then(function(t){console.log(t.data);var a=t.data.data.map(function(e,t){return Object(o.a)({},e,{key:t+1})});e.setState({data:a})})},e.loadClassData=function(){k()({method:"get",url:"/kt-school/api/v5/schools/181/classrooms?app_key=c196b0fe9794&limit=0"}).then(function(t){var a=t.data.data.map(function(e,t){return Object(o.a)({},e,{key:t})});e.setState({classList:a})})},e.loadLessData=function(t){k()({method:"get",url:"/kt-school/api/v5/classrooms/".concat(t,"/lessons?app_key=c196b0fe9794&limit=0")}).then(function(t){e.loadPeriodData(t.data.data[0].id);var a=t.data.data.map(function(e,t){return Object(o.a)({},e,{key:t})});e.setState({lessonList:a})})},e.loadPeriodData=function(t){k()({method:"get",url:"/kt-school/api/v5/lessons/".concat(t,"/lesson_periods?app_key=c196b0fe9794&limit=0")}).then(function(t){var a=t.data.data.map(function(e,t){return Object(o.a)({},e,{key:t})});e.setState({periodList:a})})},e.loadPeriodRankData=function(t){k()({method:"get",url:"/kt-school/api/v5/lesson_periods/".concat(t,"/performance_rank?app_key=c196b0fe9794&limit=0")}).then(function(t){var a=t.data.data.map(function(e,t){return Object(o.a)({},e,{key:t})});e.setState({data:a})})},e.handleClassChange=function(t){e.loadLessData(t)},e.handlePeriodChange=function(t){e.loadPeriodData(t)},e.handleRankChange=function(t){e.setState({loading:!0}),e.loadPeriodRankData(t)},e.handleChange=function(t){"\u5b66\u6821"===t&&e.loadData(),"\u73ed\u7ea7"===t&&e.loadClassData()},e.state={data:[],classList:[],lessonList:[],periodList:[],loading:!0},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(f.a,{defaultValue:"\u5b66\u6821",onChange:this.handleChange},l.a.createElement(C,{value:"\u5b66\u6821"},"\u5b66\u6821"),l.a.createElement(C,{value:"\u73ed\u7ea7"},"\u73ed\u7ea7")),this.state.classList.length>0?l.a.createElement(f.a,{defaultValue:"".concat(this.state.classList[0].grade_cn," ").concat(this.state.classList[0].cls_cn),onChange:this.handleClassChange},this.state.classList.map(function(e,t){return l.a.createElement(C,{value:e.id,key:e.id},"".concat(e.grade_cn," ").concat(e.cls_cn))})):l.a.createElement("div",null),this.state.lessonList.length>0?l.a.createElement(f.a,{defaultValue:this.state.lessonList[0].name,onChange:this.handlePeriodChange},this.state.lessonList.map(function(e,t){return l.a.createElement(C,{value:e.id,key:e.id},e.name)})):l.a.createElement("div",null),this.state.periodList.length>0?l.a.createElement(f.a,{defaultValue:this.state.periodList[0].name,onChange:this.handleRankChange},this.state.periodList.map(function(e,t){return l.a.createElement(C,{value:e.id,key:e.id},e.name)})):l.a.createElement("div",null),l.a.createElement(v.a,{className:"table",columns:_,dataSource:this.state.data}),l.a.createElement(b,null),">")}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(326);i.a.render(l.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[154,1,2]]]);
//# sourceMappingURL=main.1f0edfed.chunk.js.map